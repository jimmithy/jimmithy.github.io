<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Android Oreo: Picture In Picture Mode</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Android Oreo: Picture In Picture Mode</h1>
</header>
<section data-field="subtitle" class="p-summary">
The recent release of Android Oreo added a bunch of new features to the operating system, and one of my favourites is called Picture In…
</section>
<section data-field="body" class="e-content">
<section name="8e29" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="798e" id="798e" class="graf graf--h3 graf--leading graf--title">Android Oreo: Picture In Picture Mode</h3></div><div class="section-inner sectionLayout--outsetColumn"><figure name="24f5" id="24f5" class="graf graf--figure graf--layoutOutsetCenter graf-after--h3"><img class="graf-image" data-image-id="1*qtbeDKJ9Xr2Uy7xteNLcxw.jpeg" data-width="2500" data-height="1200" data-is-featured="true" src="https://cdn-images-1.medium.com/max/1200/1*qtbeDKJ9Xr2Uy7xteNLcxw.jpeg"><figcaption class="imageCaption">Incalculable productivity improvement</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="113d" id="113d" class="graf graf--p graf-after--figure">The recent release of Android Oreo added a bunch of new features to the operating system, and one of my favourites is called Picture In Picture. This allows the user to shrink an Activity into the corner of the screen, and navigate away from the application while still being able to see the minimised content.</p><h4 name="476b" id="476b" class="graf graf--h4 graf-after--p">Requirements</h4><ul class="postList"><li name="0bfb" id="0bfb" class="graf graf--li graf-after--h4">Android SDK v25, however some methods were introduced with v26</li><li name="55c7" id="55c7" class="graf graf--li graf-after--li">Android Build Tools v25.0.3</li></ul><h4 name="70a5" id="70a5" class="graf graf--h4 graf-after--li">Preparing your Activity</h4><p name="381f" id="381f" class="graf graf--p graf-after--h4">Activities must define that they support the Picture In Picture mode in the Android Manifest. It is also important that the activity specifies that it handles configuration changes so the activity isn’t relaunched after layout changes.</p><pre name="5b1e" id="5b1e" class="graf graf--pre graf-after--p">&lt;activity            <br>    android:name=&quot;.PictureInPictureActivity&quot;<br>    android:supportsPictureInPicture=&quot;true&quot;<br>    android:configChanges=<br>        &quot;screenSize|smallestScreenSize|screenLayout|orientation</pre><p name="6711" id="6711" class="graf graf--p graf-after--pre">When in Picture In Picture mode, it’s possible to launch the same activity again. I would recommend setting the Activity’s launch mode to <code class="markup--code markup--p-code">android:launchMode=&quot;singleTask”</code> to avoid confusing the user and having multiple instances of the same screen.</p><p name="c15e" id="c15e" class="graf graf--p graf-after--p">One gotcha in relation to Picture In Picture is that the activity is paused when entering the mode. In any multi-window mode, only the activity the user has most recently interacted with is considered active and all other activities are in the paused state. This means that the stopping of video playback, or any similar functionality, should be moved from <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/Activity.html#onPause%28%29" data-href="https://developer.android.com/reference/android/app/Activity.html#onPause()" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">onPause()</a></code> to <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/Activity.html#onStop%28%29" data-href="https://developer.android.com/reference/android/app/Activity.html#onStop()" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">onStop()</a></code>.</p><p name="ed45" id="ed45" class="graf graf--p graf-after--p">More information on this can be found here: <a href="https://developer.android.com/guide/topics/ui/multi-window.html#lifecycle" data-href="https://developer.android.com/guide/topics/ui/multi-window.html#lifecycle" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Multi-Window Lifecycle</a>.</p><h4 name="9703" id="9703" class="graf graf--h4 graf-after--p">Entering Picture In Picture Mode</h4><p name="1e87" id="1e87" class="graf graf--p graf-after--h4">All you really need to do is call <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/Activity.html#enterPictureInPictureMode%28%29" data-href="https://developer.android.com/reference/android/app/Activity.html#enterPictureInPictureMode()" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">enterPictureInPictureMode()</a></code>. The activity will then automatically animate into position.</p><p name="6f25" id="6f25" class="graf graf--p graf-after--p">There’s no predefined way to display this functionality to the user. If you were displaying a video, it could be shown as an action alongside the play/stop buttons. Alternatively, you could add it to the action bar menu item similar to the google cast button.</p><figure name="0bc9" id="0bc9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*tk2-bnZal__wBe-pCyIAyQ.png" data-width="500" data-height="230" src="https://cdn-images-1.medium.com/max/800/1*tk2-bnZal__wBe-pCyIAyQ.png"><figcaption class="imageCaption">Fortunately, Google provides suggested iconography — <a href="https://material.io/icons/" data-href="https://material.io/icons/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://material.io/icons/</a></figcaption></figure><p name="e0c2" id="e0c2" class="graf graf--p graf-after--figure">There’s also <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/Activity.html#enterPictureInPictureMode%28android.app.PictureInPictureParams%29" data-href="https://developer.android.com/reference/android/app/Activity.html#enterPictureInPictureMode(android.app.PictureInPictureParams)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">enterPictureInPictureMode(PictureInPictureParams)</a></code> which allows you to define some parameters for the Picture In Picture mode when launching.</p><h4 name="f4bf" id="f4bf" class="graf graf--h4 graf-after--p">Monitor Changes</h4><p name="cfc3" id="cfc3" class="graf graf--p graf-after--h4">You can monitor the current state of the Picture in Picture mode using a combination of <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/Activity.html#onPictureInPictureModeChanged%28boolean,%20android.content.res.Configuration%29" data-href="https://developer.android.com/reference/android/app/Activity.html#onPictureInPictureModeChanged(boolean, android.content.res.Configuration)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">onPictureInPictureModeChanged()</a></code><em class="markup--em markup--p-em"> </em>to be notified of changes and<em class="markup--em markup--p-em"> </em><code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/Activity.html#isInPictureInPictureMode%28%29" data-href="https://developer.android.com/reference/android/app/Activity.html#isInPictureInPictureMode()" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">isInPictureInPictureMode()</a></code><em class="markup--em markup--p-em"> </em>which reveals the current state.</p><pre name="af17" id="af17" class="graf graf--pre graf-after--p">@Override<br>void onPictureInPictureModeChanged(boolean isEnabled, <br>    Configuration newConfig) {</pre><pre name="9588" id="9588" class="graf graf--pre graf-after--pre">    Assert.assertEquals(isEnabled, isInPictureInPictureMode());<br>}</pre><p name="598c" id="598c" class="graf graf--p graf-after--pre">A good use case would be changing the visibility of secondary views between modes. It’s recommended that when in Picture In Picture mode you should avoid showing anything except the main content. For example, the video content would remain visible but the title and description should be hidden.</p><h4 name="8ba7" id="8ba7" class="graf graf--h4 graf-after--p">Maintaining Aspect Ratio</h4><p name="2fb0" id="2fb0" class="graf graf--p graf-after--h4">By default Picture in Picture will display as a horizontal rectangle in the bottom right of the screen. This can be altered by providing an aspect ratio as a parameter.</p><p name="bc0b" id="bc0b" class="graf graf--p graf-after--p">We touched on <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/PictureInPictureParams.html" data-href="https://developer.android.com/reference/android/app/PictureInPictureParams.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">PictureInPictureParams</a></code> earlier in the article, and we will be using them to set the aspect ratio of the minimised view with the <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setAspectRatio%28android.util.Rational%29" data-href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setAspectRatio(android.util.Rational)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">setAspectRatio</a></code> method. This doesn’t need to be complicated; if you wish to maintain the current ratio just pass the width and height of the view, and the rest will be taken care of.</p><pre name="0522" id="0522" class="graf graf--pre graf-after--p">aspectRatio = new Rational(view.getWidth(), view.getHeight());</pre><pre name="828a" id="828a" class="graf graf--pre graf-after--pre">params = new PictureInPictureParams.Builder()<br>             .setAspectRatio(aspectRatio)<br>             .build();</pre><p name="8bff" id="8bff" class="graf graf--p graf-after--pre">These parameters can be set with <code class="markup--code markup--p-code"><a href="https://developer.android.com/reference/android/app/Activity.html#setPictureInPictureParams%28android.app.PictureInPictureParams%29" data-href="https://developer.android.com/reference/android/app/Activity.html#setPictureInPictureParams(android.app.PictureInPictureParams)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">setPictureInPictureParams()</a></code> or by being passed as an argument when entering the mode.</p><p name="fb9f" id="fb9f" class="graf graf--p graf-after--p">There are also more <code class="markup--code markup--p-code">PictureInPictureParams</code> available such as setting a <a href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setActions%28java.util.List%3Candroid.app.RemoteAction%3E%29" data-href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setActions(java.util.List&lt;android.app.RemoteAction&gt;)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">number of actions</a> to be displayed while minimised and <a href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setSourceRectHint%28android.graphics.Rect%29" data-href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setSourceRectHint(android.graphics.Rect)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">identifying the video bounds</a> for animating the view.</p><h4 name="c23b" id="c23b" class="graf graf--h4 graf-after--p">Final Thoughts</h4><p name="614d" id="614d" class="graf graf--p graf-after--h4">We will likely be well into 2018 before Android Oreo’s adoption is considered significant, but thinking about these types of features when designing your applications can help with simplification and usability.</p><p name="7c9a" id="7c9a" class="graf graf--p graf-after--p graf--trailing">I know I’m guilty of browsing twitter etc on my phone while also watching the television, and I don’t think it will be long before people will want the same ability on their personal devices.</p></div></div></section><section name="e163" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="6632" id="6632" class="graf graf--p graf--leading"><strong class="markup--strong markup--p-strong">Further reading:</strong></p><div name="785d" id="785d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://developer.android.com/training/tv/playback/picture-in-picture.html" data-href="https://developer.android.com/training/tv/playback/picture-in-picture.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://developer.android.com/training/tv/playback/picture-in-picture.html"><strong class="markup--strong markup--mixtapeEmbed-strong">Adding Picture-in-picture | Android Developers</strong><br><em class="markup--em markup--mixtapeEmbed-em">In Android 7.0, Android TV users can now watch a video in a pinned window in a corner of the screen when navigating…</em>developer.android.com</a><a href="https://developer.android.com/training/tv/playback/picture-in-picture.html" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d24de031a87de1b2a8ce5362112bc7b3" data-thumbnail-img-id="0*puam5BIWV1N9j-HA." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*puam5BIWV1N9j-HA.);"></a></div><div name="a703" id="a703" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://github.com/googlesamples/android-PictureInPicture" data-href="https://github.com/googlesamples/android-PictureInPicture" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/googlesamples/android-PictureInPicture"><strong class="markup--strong markup--mixtapeEmbed-strong">googlesamples/android-PictureInPicture</strong><br><em class="markup--em markup--mixtapeEmbed-em">Contribute to android-PictureInPicture development by creating an account on GitHub.</em>github.com</a><a href="https://github.com/googlesamples/android-PictureInPicture" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="25f5c287efdd1b3de0bf096cf1dc8e4e" data-thumbnail-img-id="0*OEYcqQ50udYU0J6R." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*OEYcqQ50udYU0J6R.);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@jimmithy" class="p-author h-card">James O&#39;Brien</a> on <a href="https://medium.com/p/1822e1c645c1"><time class="dt-published" datetime="2017-09-06T22:34:53.578Z">September 6, 2017</time></a>.</p><p><a href="https://medium.com/@jimmithy/android-oreo-picture-in-picture-mode-1822e1c645c1" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on February 18, 2026.</p></footer></article></body></html>